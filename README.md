# env-presets

The utility allows you to easily template your .env files by mapping it in .json.

### Here's a simple example:

```json
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

vvv

```env
# Autogenerated with env-presets
SITE_NAME=Foo
SITE_DOMAIN=example.com
SITE_URL=https://example.com/help
WEBMASTER_NAME=webmaster
WEBMASTER_EMAIL=webmaster@example.com
HELLO_FROM_BAR={"bar":"Hello World!"}
DEBUG=0
EXTENDS=.presets/prod/bar.json
```

---

## Installation

1. The project requires Node v14 or higher. To install it, use **npm**:

```shell
npm install --save-dev env-preset
```

2. After the installation create **.epconfig.json** and add your preferences:

```shell
nano .epconfig.json
```

Available options:

```json
{
  "preset": ".presets/prod.json",
  "envInput": ".env.example",
  "envOutput": ".env",
  "depth": 3,
  "logging": 0
}
```

3. Create your **presets** and add it to the config:

```shell
mkdir .presets && cd .presets
nano prod.json
```

Reference syntax ("extends" directive is optional!):

```json5
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

4. Compile your presets:

```shell
cd ..
env-preset
```

5. **You're all set!**

---

## Reference

1. You can set all preferences in **.epconfig.json**:

```json5
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

2. The **"extends"** directive mixes your config with the target one:

```json5
{
  "extends": ".presets/variables.json",
  "color": "{green}",
  "secondColor": "{blue}"
}
```

3. You can use **CLI** to override the config:

```shell
env-preset --preset .presets/prod.json --output .env
```

---

**env-presets**  
by Kenny Romanov
